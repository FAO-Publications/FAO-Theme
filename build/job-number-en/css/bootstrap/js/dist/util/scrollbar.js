/*! For license information please see scrollbar.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("../dom/selector-engine"),require("../dom/manipulator"),require("./index")):"function"==typeof define&&define.amd?define(["../dom/selector-engine","../dom/manipulator","./index"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Scrollbar=e(t.SelectorEngine,t.Manipulator,t.Index)}(this,(function(t,e,i){"use strict";const n=t=>t&&"object"==typeof t&&"default"in t?t:{default:t},s=n(t),l=n(e),r=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",o=".sticky-top",a="padding-right",u="margin-right";return class{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,a,(e=>e+t)),this._setElementAttributes(r,a,(e=>e+t)),this._setElementAttributes(o,u,(e=>e-t))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,a),this._resetElementAttributes(r,a),this._resetElementAttributes(o,u)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const n=this.getWidth();this._applyManipulationCallback(t,(t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+n)return;this._saveInitialAttribute(t,e);const s=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${i(Number.parseFloat(s))}px`)}))}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&l.default.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,(t=>{const i=l.default.getDataAttribute(t,e);null!==i?(l.default.removeDataAttribute(t,e),t.style.setProperty(e,i)):t.style.removeProperty(e)}))}_applyManipulationCallback(t,e){if(i.isElement(t))e(t);else for(const i of s.default.find(t,this._element))e(i)}}}));